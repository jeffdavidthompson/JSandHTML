<!DOCTYPE html>
<html>
  <head>
    <center>
      <h1>Half Life 3 v.01</h1>
    </center>
  </head>
  <center>
    <table width="1000" border="4" CELLPADDING=20>
      <tr>
        <td height="500" style="word-wrap: break-word;">
          <center>
            <img id="imgcol1" / src="http://www.gamesprays.com/images/icons/Headcrab_icon1153.jpg">
            <p id="textcol1">
              Welcome to Half Life 3 v.01.
              <br>
              Press "START GAME" to Start.
            </p>
            <button id="start" style="visibility:visible" onclick="start()">START GAME</button>
            <br>
            <!-- This break is an ad-hoc fix for the vert centering after buttons -->
          </center>
        </td>
        <td>
          <center>
            <img id="imgcol2" / src="http://www.gamesprays.com/images/icons/Headcrab_icon1153.jpg">
            <p id="textcol2">

            </p>
            <button id="choicePass" onclick="choice('Pass')" style="visibility:hidden">BUTTON</button>
            <button id="choiceFail" onclick="choice('Fail')" style="visibility:hidden">BUTTON</button>
          </center>
        </td>
        <td>
          <center>
            <img id="imgcol3" / src="http://www.gamesprays.com/images/icons/Headcrab_icon1153.jpg">
            <p id="textcol3">

            </p>
            <button id="refresh" style="visibility:hidden" onclick="refresh()">I ACCEPT MY FATE</button>
          </center>
        </td>
      </tr>
    </table>
  </center>

  <!--Functions-->
   <script>

   buttonTextChoicePass = ["Go Forward","Kick It"];
   buttonTextChoiceFail = ["Go Backward","Punch It"];

   col1TextInfo = ["You find yourself in the middle of a small closet with no memory of how you got there. The door is ajar.","An insectoid like creature jumps toward you!"]

   col2TextInfo = ["Would you like to move forward or backward?","How will you react to the alien?"]

   col3TextPass = ["You step forward into the darkened hallway, only to hear a scuttling creature rushing toward you.","You kick the alien into a wall and it explodes into goo. CONGRATULATIONS! Please purchase the DLC to continue your adventure."]

   col3TextFail = ["You step backward a little too hard. Your skull explodes into bits.","The alien devours your arm up to your shoulder and leaps away. GAME OVER!!!!"]

    var turn = 0

    var start = function(onclick) {
      changeText("textcol1", col1TextInfo[turn]);
      hideButton("start");
      updateCol2();
    }

    var refresh = function(onclick) {
      turn++
      hideButton("refresh");
      //hideButton("textcol3");
      hideButton("imgcol3");
      updateCol1();
      updateCol2();
    }

    var updateCol2 = function(){
      showButton("choicePass");
      showButton("choiceFail");
      changeText("choicePass",buttonTextChoicePass[turn]);
      changeText("choiceFail",buttonTextChoiceFail[turn]);
      changeText("textcol2",col2TextInfo[turn])
      changePic("imgcol2","http://t0.gstatic.com/images?q=tbn:ANd9GcQywV5sRb-TwhyMyCwxohe2Y70Vjy_my9mBylos5v4sosAQnhb0NA");
    }

    var updateCol1 = function(){
      changeText("textcol1",col1TextInfo[turn]);
      changePic("imgcol1","http://t0.gstatic.com/images?q=tbn:ANd9GcQywV5sRb-TwhyMyCwxohe2Y70Vjy_my9mBylos5v4sosAQnhb0NA");
    }

    var hideButton = function(buttonID){
      elButton = document.getElementById(buttonID);
      elButton.style.visibility = "hidden";
    }

    var showButton = function(buttonID){
      elbutton = document.getElementById(buttonID);
      elbutton.style.visibility = "visible";

    }

    var changePic = function(imageID, imglink) {
      elPic = document.getElementById(imageID);
      elPic.src = imglink;
    }

    var changeText = function(textID, newText) {
      elText = document.getElementById(textID);
      elText.textContent = newText;

    }

//if(isInArray(userChoice.toLowerCase(),passKeys)

    var choice = function(action){
      if (action == "Pass"){
        changeText("textcol3",col3TextPass[turn]);
        changePic("imgcol3", "blah");
        hideButton("choicePass");
        hideButton("choiceFail");
        showButton("refresh");
        alert("pass on turn " + turn)
      }
      else if (action == "Fail"){
        changeText("textcol3",col3TextFail[turn]);
        changePic("imgcol3", "http://24.media.tumblr.com/b04f42f54f6a3606f2315eca3fde2ba5/tumblr_mojquvAnJe1qjejgbo1_400.gif");
        hideButton("textcol1");
        hideButton("textcol2");
        hideButton("imgcol1");
        hideButton("imgcol2");
        hideButton("refresh");
        hideButton("choicePass");
        hideButton("choiceFail");
        alert("fail on turn " + turn)
      }

    }



  </script>

</html>